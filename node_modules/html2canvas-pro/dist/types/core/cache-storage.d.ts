import { Context } from './context';
/**
 * CacheStorage (Deprecated static methods)
 *
 * @deprecated The static methods of CacheStorage are deprecated.
 * Use OriginChecker class instead for instance-based origin checking.
 *
 * For backward compatibility, these methods remain but should not be used in new code.
 */
export declare class CacheStorage {
    private static _link?;
    private static _origin;
    /**
     * @deprecated Use OriginChecker.getOrigin() instead
     */
    static getOrigin(url: string): string;
    /**
     * @deprecated Use OriginChecker.isSameOrigin() instead
     */
    static isSameOrigin(src: string): boolean;
    /**
     * @deprecated No longer needed. OriginChecker is created per Context.
     */
    static setContext(window: Window): void;
}
export interface ResourceOptions {
    imageTimeout: number;
    useCORS: boolean;
    allowTaint: boolean;
    proxy?: string;
    customIsSameOrigin?: (this: void, src: string, oldFn: (src: string) => boolean) => boolean | Promise<boolean>;
    maxCacheSize?: number;
}
export declare class Cache {
    private readonly context;
    private readonly _options;
    private readonly _cache;
    private readonly maxSize;
    private readonly _pendingOperations;
    constructor(context: Context, _options: ResourceOptions);
    addImage(src: string): Promise<void>;
    private _addImageInternal;
    match(src: string): Promise<any> | undefined;
    /**
     * Set a value in cache with LRU eviction
     */
    private set;
    /**
     * Evict least recently used entry
     */
    private evictLRU;
    /**
     * Get cache size
     */
    size(): number;
    /**
     * Get max cache size
     */
    getMaxSize(): number;
    /**
     * Clear all cache entries
     */
    clear(): void;
    private loadImage;
    private has;
    keys(): Promise<string[]>;
    private proxy;
}
